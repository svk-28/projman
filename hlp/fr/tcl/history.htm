<HTML><HEAD>
<BASEFONT FACE="Times New Roman" SIZE="2" COLOR="#000000">
</HEAD>
<BODY>
<div><H3><b>history&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Commandes Internes Tcl</b></H3></div>
<HR ALIGN="center">
<div><b>NOM</b></div><br>
<div ALIGN="LEFT" style="margin-left: 51px;">history - Manipule l'historique
</div><br>
<div><b>SYNTAXE</b></div><br>
<div ALIGN="LEFT" style="margin-left: 51px;"><b>history </b>?<i>option</i>? ?<i>arg arg ...</i>?
</div><br>
<div><b>DESCRIPTION</b></div><br>
<div ALIGN="LEFT" style="margin-left: 51px;">La commande <b>history</b> effectue une des opérations relatives aux commandes récemment exécutées et enregistrées dans un historique Chacune de ces commandes enregistrées est référencée comme un &quot;évènement&quot; Quand on specifie un évènement à la commande<b> history</b>, les formes suivantes peuvent être employées: </div><br>
<div ALIGN="LEFT" style="margin-left: 80px;">&#91;1]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Un nombre si positif, se réfère à l'évènement (tous les évènements sont numérotés en commençant à 1) Si le nombre est négatif, il désigne un évènement relatif à l'évènement courant (<b>-1</b> se réfère à l'évènement précedent, <b>-2</b> à celui avant -1, et ainsi de suite) L'évenement <b>0</b> se réfère à l'évenement courant. </div><br>
<div ALIGN="LEFT" style="margin-left: 80px;">&#91;2]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Une chaîne: désigne l'évènement le plus recent qui correspond à la chaîne. Un évènement est consideré correspondre à la chaîne soit si la chaîne est la même que le premier caractères de l'évènement, ou si la chaîne correspond à l'évènement dans le sens de la commande<b> string match</b>. </div><br>
<div ALIGN="LEFT" style="margin-left: 51px;">La commande <b>history</b> peut prendre chacune des formes suivantes: 
<DL>
  <DT><br><b>history</b></DT><DD>Identique à <b>history info</b>, décrit ci-dessous. 
</DD>
  <DT><br><b>history add</b><i> command </i>?<b>exec</b>?</DT><DD>Ajoute l'argument <i>command</i> à l'historique comme nouvel évènement. Si <A HREF="105.htm"><b>exec</b></A> est spécifié (ou abrégé) alors la commande est aussi exécutée et son résultat est renvoyé. Si <A HREF="105.htm"><b>exec</b></A> n'est pas spécifié alors une chaîne vide est renvoyée comme résultat. 
</DD>
  <DT><br><b>history change</b><i> newValue</i> ?<i>event</i>?
</DT><DD>Remplace la valeur enregistrée pour un évènement avec <i>newValue</i> <i>Event</i> spécifie l'évènement à remplacer, et pointe par défaut sur l'évènement <i>courant</i> (pas l'évènement <b>-1</b>). Cette commande est conçue pour être utilisée dans les commandes qui implémentent les nouvelles formes de substitution d'historique et souhaitent remplacer l'évènement courant (qui appelle la substitution) avec la commande créée par la substitution La valeur de retour est une chaîne vide. 
</DD>
  <DT><br><b>history clear</b>
</DT><DD>Efface l'historique. La limite courante est retenue. Les numéros d'évènement d'historique sont réinitialisés. 
</DD>
  <DT><br><b>history event</b> ?<i>event</i>?
</DT><DD>Renvoie la valeur de l'évènement donnée par <i>event</i> <i>Event</i> est égal à <b>–1 </b>par défaut.
</DD>
  <DT><br><b>history info </b>?<i>count</i>?
</DT><DD>Renvoie une chaîne formatée (et lisible) donnant les numéros et contenus d'évènement pour chacun des évènements dans l'historique excepté l'évènement courant. Si <i>count</i> est spécifié alors seulement les <i>count</i> évènements les plus recent sont renvoyés. 
</DD>
  <DT><br><b>history keep </b>?<i>count</i>?
</DT><DD>Cette commande peut être employée pour changer la taille de l'historique à <i>count</i> évènements. Initialement, 20 évènements sont retenus dans l'historique. Si <i>count</i> n'est pas spécifié, la limite courante est renvoyée. 
</DD>
  <DT><br><b>history nextid</b>
</DT><DD>Renvoie le nombre de l'évènement suivant enregistré dans l'historique. Il est utile par exemple pour afficher le numéro d'évènement dans une ligne de commande. 
</DD>
  <DT><br><b>history redo </b>?<i>event</i>?
</DT><DD>Re-exécute la commande indiquée par <i>event</i> et retourne son résultat. <i>Event</i> est égal à <b>–1 </b>par défaut. Cette commande résulte en une révision de l'historique, voir ci-dessous pour les détails. 
</DD>
</DL>
</div><br>
<div><b>REVISION DE L'HISTORIQUE </b></div><br>
<div ALIGN="LEFT" style="margin-left: 51px;">Tcl avant la version  8.0 avait un mécanisme de révision de l'historique complexe. Le mécanisme courant est plus limité, et les anciennnes opérations <b>substitute</b> et <b>words</b> ont été enlevées. (Comme consolation, l'opération <b>clear</b> a été ajoutée.) </div>
<div ALIGN="LEFT" style="margin-left: 51px;">L'option <b>redo</b> rend plus simple la &quot; révision de l'historique &quot;. Quand cette option est appelée alors l'évènement le plus récent est modifié et remplacé par le résultat de la commande d'historique. Si vous voulez refaire un évènement sans modifier l'historique, alors utilisez l'opération <A HREF="277.htm"><b>event</b></A> pour récupérer un évènement, et l'opération <b>add</b> pour&nbsp; l'ajouter à l'historique et l'exécuter </div>
<br>
<br><A HREF="index.htm"><b>Index</b></A>&nbsp;&nbsp;<A HREF="110.htm"><b>Précédent</b></A>&nbsp;&nbsp;<A HREF="112.htm"><b>Suivant</b></A>
<br>
<br><div ALIGN="CENTER"><A HREF="index.htm"><b>Index</b></A>&nbsp;&nbsp;<A HREF="120.htm"><b>Précédent</b></A>&nbsp;&nbsp;<A HREF="122.htm"><b>Suivant</b></A></div>
</BODY></HTML>
