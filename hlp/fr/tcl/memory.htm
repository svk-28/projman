<HTML><HEAD>
<BASEFONT FACE="Times New Roman" SIZE="2" COLOR="#000000">
</HEAD>
<BODY>
<div><H3><b>memory&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Commandes Internes Tcl</b></H3></div>
<HR ALIGN="center">
<div><b>NOM</b></div><br>
<div ALIGN="LEFT" style="margin-left: 51px;">memory - Contrôle les possibilités Tcl de debugging mémoire. 
</div><br>
<div><b>SYNTAXE</b></div><br>
<div ALIGN="LEFT" style="margin-left: 51px;"><b>memory </b><i>option </i>?<i>arg arg ...</i>?
</div><br>
<div><b>DESCRIPTION</b></div><br>
<div ALIGN="LEFT" style="margin-left: 51px;">La commande <b>memory</b> donne au developpeur Tcl le contrôle des possibilités Tcl de debugging mémoire La commande memory a plusieurs sous-options, qui sont décrites ci-dessous Elle sont seulement disponibles quand Tcl a été compilé avec le debugging mémoire activé (quand <A HREF="77.htm"><b>TCL_MEM_DEBUG</b></A> est défini à la compilation ). 
<DL>
  <DT><b>memory info</b>
</DT><DD>Produit un rapport contenant le total alloué et libère les blocs alloués depuis que Tcl à été lancé(le nombre courant d'appels à <b>ckalloc</b> auquel ne correspond pas un appel à <b>ckfree</b>), les octets courant alloués, et le nombre maximum de blocs et d'octets alloués. 
</DD>
  <DT><br><b>memory trace &#91;on|off]</b>
</DT><DD>Active/désactive le traçage mémoire Quand le traçage mémoire est activé, tout appel de <b>ckalloc</b> cause l'écriture d'une ligne de trace vers <i>stderr</i>, consistant du mot <i>ckalloc</i>, suivi par l'adresse renvoyée, le total de mémoire allouée, et le nom de fichier C et numéro de ligne de le code qui a effectué l'allocation Par exemple: 
<br>ckalloc 40e478 98 tclProc.c 1406
<br>Les appels à <b>ckfree</b> sont tracés de la même manière. 
</DD>
  <DT><br><b>memory validate &#91;on|off]</b>
</DT><DD>Active/désactive la validation mémoire. Quand la validation mémoire est activée, à tout appel de <b>ckalloc</b> ou <b>ckfree</b>, les zone gardées sont vérifiées pour toute pièce de mémoire couramment existante qui a été allouée par <b>ckalloc</b>. Ceci a un grand impact sur la performance et doit seulement être utilisé quand des problèmes d'écrasement sont sérieusement suspectés. L'avantage d'activer la validation mémoire est qu'une zone gardée écrasée peut être détectée au premier appel de <b>ckalloc</b> ou <b>ckfree</b> suivant l'écrasement, plutôt que quand la mémoire spécifique avec la zone gardée(s) ecrasée(s) est libérée, ce qui peut arriver longtemps après l'écrasement. 
</DD>
  <DT><br><b>memory trace_on_at_malloc</b> <i>count</i>
</DT><DD>Active le traçage mémoire après <i>count</i> <b>ckalloc</b> aient été effectués. Par exemple, si vous tapez <b>memory trace_on_at_malloc 100</b>, après le 100ème appel de <b>ckalloc</b>, l'information de trace mémoire sera affichée pour toute allocations et libération. Comme il peut y avoir une grande activité mémoire avant qu'un problème se produise, un usage judicieux de cette option peut reduire le ralentissement causé par le traçage (et le volume de trace produit), si vous pouvez identifier un nombre d'allocations effectuées avant le problème. Le nombre courant d'allocations mémoire qui se sont produites depuis que Tcl a été lancé est écrit dans une zone préservée des echecs. 
</DD>
  <DT><br><b>memory break_on_malloc</b> <i>count</i>
</DT><DD>Après que <i>count</i> allocations aient été effectuées, <b>ckalloc</b> emet un message à cet effet et qui signale également qu'il tente de lancer le debugger C Tcl emet alors un signal <i>SIGINT</i> vers lui-même. Si vous exécutez Tcl sous un debugger C, le debugger doit alors entrer en mode commande. 
</DD>
  <DT><br><b> memory display</b> <i>file</i>
</DT><DD>Ecrit une liste de toute la mémoire couramment allouée dans le fichier spécifié 
</DD>
</DL>
</div><br>
<div><b>VOIR EGALEMENT</b></div><br>
<div ALIGN="LEFT" style="margin-left: 51px;">ckalloc, ckfree, Tcl_ValidateAllMemory, Tcl_DumpActiveMemory, TCL_MEM_DEBUG&nbsp; </div><br>
<div>Dernière révision: 8.1</div>
<br>
<br><div ALIGN="CENTER"><A HREF="index.htm"><b>Index</b></A>&nbsp;&nbsp;<A HREF="138.htm"><b>Précédent</b></A>&nbsp;&nbsp;<A HREF="140.htm"><b>Suivant</b></A></div>
</BODY></HTML>
